<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cereal Visualization</title>
    <link rel="stylesheet" href="css/style.css">
</head>
  <body>
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <!-- Gradient defs -->
    <svg style="position: absolute; width: 0; height: 0;">
        <defs>
            <linearGradient id="G-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="rgb(57,83,211)" />
                <stop offset="100%" stop-color="rgb(224,248,45)" />
            </linearGradient>
            <linearGradient id="K-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="rgb(232,40,2)" />
                <stop offset="100%" stop-color="rgb(178,214,240)" />
            </linearGradient>
            <linearGradient id="N-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="rgb(136,210,35)" />
                <stop offset="100%" stop-color="rgb(12,33,171)" />
            </linearGradient>
            <linearGradient id="P-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="rgb(86,47,181)" />
                <stop offset="100%" stop-color="rgb(245,209,209)" />
            </linearGradient>
            <linearGradient id="Q-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="rgb(252,207,58)" />
                <stop offset="100%" stop-color="rgb(69,44,10)" />
            </linearGradient>
            <linearGradient id="R-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="rgb(193,39,189)" />
                <stop offset="100%" stop-color="rgb(245,209,209)" />
            </linearGradient>
        </defs>
    </svg>

  <div id="filters" class="hidden">
  <div class="filter-row">
    <label>Protein <select id="proteinOp"><option value="<=">≤</option><option value=">=">≥</option><option value="=">=</option></select> <input id="proteinInput" type="number" min="0" placeholder="g"> <small>(1-6g)</small></label>
    <label>Sugar <select id="sugarOp"><option value="<=">≤</option><option value=">=">≥</option><option value="=">=</option></select> <input id="sugarInput" type="number" min="0" placeholder="g"> <small>(0-15g)</small></label>
    <label>Carbos <select id="carboOp"><option value="<=">≤</option><option value=">=">≥</option><option value="=">=</option></select> <input id="carboInput" type="number" min="0" placeholder="g"> <small>(5-23g)</small></label>
    <label>Fiber <select id="fiberOp"><option value="<=">≤</option><option value=">=">≥</option><option value="=">=</option></select> <input id="fiberInput" type="number" min="0" placeholder="g"> <small>(0-14g)</small></label>
    <label>Fat <select id="fatOp"><option value="<=">≤</option><option value=">=">≥</option><option value="=">=</option></select> <input id="fatInput" type="number" min="0" placeholder="g"> <small>(0-5g)</small></label>
    <label>Potassium <select id="potassOp"><option value="<=">≤</option><option value=">=">≥</option><option value="=">=</option></select> <input id="potassInput" type="number" min="0" placeholder="mg"> <small>(15-330mg)</small></label>
    <label>Sodium <select id="sodiumOp"><option value="<=">≤</option><option value=">=">≥</option><option value="=">=</option></select> <input id="sodiumInput" type="number" min="0" placeholder="mg"> <small>(0-320mg)</small></label>
    <label>Calories <select id="kcalOp"><option value="<=">≤</option><option value=">=">≥</option><option value="=">=</option></select> <input id="kcalInput" type="number" min="0" placeholder="kcal"> <small>(50-160kcal)</small></label>
  </div>

  <div class="filter-row">
    <label>Brand:</label>
    <div id="brandContainer">
      <label><input type="checkbox" value="American Home Food Products"> American Home Food Products</label>
      <label><input type="checkbox" value="General Mills"> General Mills</label>
      <label><input type="checkbox" value="Kelloggs"> Kelloggs</label>
      <label><input type="checkbox" value="Nabisco"> Nabisco</label>
      <label><input type="checkbox" value="Post"> Post</label>
      <label><input type="checkbox" value="Quaker Oats"> Quaker Oats</label>
      <label><input type="checkbox" value="Ralston"> Ralston</label>
    </div>

    <label  id="orderSelect" >Order:
      <select>
        <option value="none">None</option>
        <option value="protein-asc">Protein ↑</option>
        <option value="protein-desc">Protein ↓</option>
        <option value="kcal-asc">Calories ↑</option>
        <option value="kcal-desc">Calories ↓</option>
        <option value="fat-asc">Fat ↑</option>
        <option value="fat-desc">Fat ↓</option>
        <option value="sugar-asc">Sugar ↑</option>
        <option value="sugar-desc">Sugar ↓</option>

      </select>
    </label>
  </div>
</div>

    <main class="main-area">
        <div class="shelves">

            <div class="shelf" id="shelf-1"> 
              <div class="rail"></div>
              <div id="tip-shelf-1" class="tip">
                <p class="hide-arrow"></p>
                <p></p>
              </div>  
            </div>

            <div class="shelf" id="shelf-2">
              <div class="rail"></div>
              <div id="tip-shelf-2" class="tip">
                <p class="hide-arrow"></p>
                <p></p>
              </div>                
            </div>


            <div class="shelf" id="shelf-3">
              <div class="rail"></div>
                <div id="tip-shelf-3" class="tip">
                <p class="hide-arrow"></p>
                <p></p>
              </div>
            </div>

            <div id="cartSummary"></div>
            <div id="menu1">
                <h2>Select your cereals</h2>
                <p id="textbox">Explore cereals, view their nutrition, drag them into your cart, and use filters to guide your choices.</p>
                <div class="button-container">
                    <button>Empty</button>
                    <button id="doneButton">Done</button>
                </div>
            </div>
            <div id="cartItems"></div>
            <svg id="carrinho" xmlns="http://www.w3.org/2000/svg" width="130" height="100" viewBox="0 0 1383 975" fill="none">
                <line x1="1209.49" y1="162.615" x2="1278.89" y2="107.93" stroke="black" stroke-width="29.8946"/>
                <path d="M1137.33 734.429L1204.75 836.607" stroke="black" stroke-width="29.8946"/>
                <line x1="55.1255" y1="308.703" x2="1211.38" y2="161.699" stroke="black" stroke-width="29.8946"/>
                <line x1="193.109" y1="737.248" x2="1157.21" y2="735.446" stroke="black" stroke-width="29.8946"/>
                <line x1="165.548" y1="625.147" x2="1158.48" y2="600.924" stroke="black" stroke-width="29.8946"/>
                <line x1="130.753" y1="524.285" x2="1191.48" y2="453.619" stroke="black" stroke-width="29.8946"/>
                <line x1="95.0591" y1="416.491" x2="1199.56" y2="308.456" stroke="black" stroke-width="29.8946"/>
                <path d="M53.613 891.333L146.499 829.942L1191.93 829.941" stroke="black" stroke-width="29.8946"/>
                <line x1="206.642" y1="746.884" x2="71.0489" y2="317.149" stroke="black" stroke-width="29.8946"/>
                <line x1="1142.4" y1="740.602" x2="1213.4" y2="150.183" stroke="black" stroke-width="29.8946"/>
                <line x1="1055.84" y1="729.751" x2="1088.46" y2="182.576" stroke="black" stroke-width="29.8946"/>
                <line x1="956.525" y1="741.95" x2="972.54" y2="194.237" stroke="black" stroke-width="29.8946"/>
                <line x1="857.225" y1="742.285" x2="860.962" y2="194.572" stroke="black" stroke-width="29.8946"/>
                <line x1="770.224" y1="737.166" x2="747.803" y2="219.348" stroke="black" stroke-width="29.8946"/>
                <line x1="682.735" y1="737.993" x2="633.089" y2="236.724" stroke="black" stroke-width="29.8946"/>
                <line x1="586.185" y1="744.474" x2="516.787" y2="252.28" stroke="black" stroke-width="29.8946"/>
                <line x1="493.956" y1="745.215" x2="401.069" y2="263.164" stroke="black" stroke-width="29.8946"/>
                <line x1="401.235" y1="745.973" x2="284.326" y2="272.998" stroke="black" stroke-width="29.8946"/>
                <line x1="302.563" y1="746.31" x2="178.714" y2="290.95" stroke="black" stroke-width="29.8946"/>
                <ellipse cx="1311.52" cy="83.9105" rx="57.1201" ry="55.7855" fill="black"/>
                <ellipse cx="1109" cy="896.931" rx="74.4697" ry="72.8682" fill="black"/>
                <ellipse cx="264.476" cy="896.931" rx="74.4697" ry="72.8682" fill="black"/>
            </svg>
      <div id="button_content">
        <button class="hideFilter"> Filters</button>
        <button class="buttontop" id="info-circle">ℹ</button>
        <button class="buttontop" id="resetFilters">↻</button>
      </div>
      <h2 id="title"> 
      <svg id="rotating-cereal" viewBox="0 0 75 75" width="20" height="20">
        <path id="cereal-path" d="M 35.000 5.000 C 54.330 5.000 70.000 20.670 70.000 40.000 C 70.000 59.330 54.330 75.000 35.000 75.000 C 15.670 75.000 0.000 59.330 0.000 40.000 C 0.000 20.670 15.670 5.000 35.000 5.000 Z M 35.000 17.600 C 23.402 17.600 14.000 27.159 14.000 40.000 C 14.000 52.841 23.402 62.400 35.000 62.400 C 46.598 62.400 56.000 52.841 56.000 40.000 C 56.000 27.159 46.598 17.600 35.000 17.600 Z" fill="url(#G-gradient)"/>
      </svg> Cereal Explorer</h2>
      <div id="info">
        <div class="info-content">
          <h2 class="info-title">Information</h2>
          
          <div class="info-section">
            <div class="info-properties">
              <h3>Properties</h3>
              <ul>
                <li><strong>Color:</strong> brand</li>
                <li><strong>Bright:</strong> sugar</li>
                <li><strong>Width:</strong> fat</li>
                <li><strong>Height:</strong> calories</li>
                <li><strong>Bar:</strong> protein</li>
              </ul>
            </div>
            
            <div class="info-brands">
              <div class="brand-item"><span class="brand-color" style="background: #90C695;"></span> Nabisco</div>
              <div class="brand-item"><span class="brand-color" style="background: #F2D377;"></span> Quaker Oats</div>
              <div class="brand-item"><span class="brand-color" style="background: #E57373;"></span> Kellogg's</div>
              <div class="brand-item"><span class="brand-color" style="background: #7986CB;"></span> General Mills</div>
              <div class="brand-item"><span class="brand-color" style="background: #BA68C8;"></span> Ralston</div>
              <div class="brand-item"><span class="brand-color" style="background: #7B68A0;"></span> Post</div>
              <div class="brand-item"><span class="brand-color" style="background: #81C784;"></span> American Home Food Products</div>
            </div>
          </div>
          
          <div class="info-diagram">
            <img src="data/infoIMG.png" alt="Info diagram" class="info-image">
          </div>
          
          <div class="info-about">
            <h3>About</h3>
            <p>This project was developed within the scope of the Information Visualization course at University of Coimbra in 2025. 
              Supervised by Professors Catarina Maçãs and Evegheni Pulski...., 
              the project was carried out by students Nina and Nino.
          </div>
        </div>
      </div>
    </main>

<div id="cerealModal" class="modal">
  <div class="modal-box">

    <!-- TÍTULO EM CIMA -->
    <h2 id="modalName" class="modal-title"></h2>
    <div id="modalRating" class="modal-rating"></div>

    <div class="modal-columns">

      <!-- COLUNA CENTRO -->
      <div class="modal-center">
        <div id="modalNutrition"></div>
      </div>

      <!-- COLUNA DIREITA -->
      <div class="modal-right">
        <h2>Add to cart</h2>
        <button class="yes">Yes</button>
        <button id="modalCloseButton" class="no">No</button>
      </div>

    </div>
  </div>
<div id="popup"></div>
</div>
    <script type="module" src="js/main.js?v=2"></script>
    <script src="js/pageTransition.js?v=2"></script>
  </body>
</html>
